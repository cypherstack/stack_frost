/* 
 * This file is part of Stack Wallet.
 * 
 * Copyright (c) 2023 Cypher Stack
 * All Rights Reserved.
 * The code is distributed under GPLv3 license, see LICENSE file for details.
 * Generated by Cypher Stack on 2023-05-26
 *
 */

import 'package:flutter_riverpod/flutter_riverpod.dart';
import 'package:flutter_secure_storage/flutter_secure_storage.dart';
import 'package:stackfrost/providers/desktop/storage_crypto_handler_provider.dart';
import 'package:stackfrost/utilities/flutter_secure_storage_interface.dart';
import 'package:stackfrost/utilities/util.dart';

final secureStoreProvider = Provider<SecureStorageInterface>((ref) {
  if (Util.isDesktop) {
    final handler = ref.read(storageCryptoHandlerProvider).handler;
    return SecureStorageWrapper(
        store: DesktopSecureStore(handler), isDesktop: true);
  } else {
    return const SecureStorageWrapper(
      store: FlutterSecureStorage(),
      isDesktop: false,
    );
  }
});
